{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\dgtow\\\\intelligent-policy-engine\\\\aicomplyr-intelligence\\\\ui\\\\src\\\\components\\\\MetaLoopStatus.jsx\",\n  _s = $RefreshSig$();\n// File: ui/components/MetaLoopStatus.jsx\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport webSocketService from '../services/websocket';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const MetaLoopStatus = ({\n  position = 'top-right',\n  size = 'medium',\n  showDetails = false,\n  onStatusChange = () => {},\n  className = ''\n}) => {\n  _s();\n  const [agentStatus, setAgentStatus] = useState('idle');\n  const [agentActivity, setAgentActivity] = useState([]);\n  const [isExpanded, setIsExpanded] = useState(false);\n  const canvasRef = useRef(null);\n  const animationRef = useRef(null);\n\n  // AI Agent States\n  const agentStates = {\n    idle: {\n      color: '#10b981',\n      // green\n      pulseSpeed: 2000,\n      description: 'Monitoring compliance',\n      icon: '🟢'\n    },\n    processing: {\n      color: '#f59e0b',\n      // amber  \n      pulseSpeed: 1200,\n      description: 'Analyzing policy requests',\n      icon: '🟡'\n    },\n    active: {\n      color: '#3b82f6',\n      // blue\n      pulseSpeed: 800,\n      description: 'Making governance decisions',\n      icon: '🔵'\n    },\n    alert: {\n      color: '#ef4444',\n      // red\n      pulseSpeed: 600,\n      description: 'Requiring human attention',\n      icon: '🔴'\n    }\n  };\n\n  // Size configurations\n  const sizeConfig = {\n    small: {\n      diameter: 60,\n      strokeWidth: 3,\n      fontSize: '12px'\n    },\n    medium: {\n      diameter: 80,\n      strokeWidth: 4,\n      fontSize: '14px'\n    },\n    large: {\n      diameter: 100,\n      strokeWidth: 5,\n      fontSize: '16px'\n    }\n  };\n  const config = sizeConfig[size];\n\n  // Position configurations\n  const positionStyles = {\n    'top-right': 'fixed top-6 right-6 z-50',\n    'top-left': 'fixed top-6 left-6 z-50',\n    'bottom-right': 'fixed bottom-6 right-6 z-50',\n    'bottom-left': 'fixed bottom-6 left-6 z-50',\n    'inline': 'relative'\n  };\n\n  // Connect to WebSocket for real agent status updates\n  useEffect(() => {\n    console.log('🔌 Connecting MetaLoopStatus to WebSocket...');\n    webSocketService.connect().then(() => {\n      console.log('✅ MetaLoopStatus WebSocket connected');\n\n      // Subscribe to agent updates\n      webSocketService.subscribeToAgents();\n\n      // Listen for agent status updates\n      webSocketService.on('agent_status_update', data => {\n        console.log('📨 Received agent status update:', data);\n\n        // Determine overall status based on agent states\n        const agents = Object.values(data);\n        const activeAgents = agents.filter(agent => agent.status === 'active').length;\n        const processingAgents = agents.filter(agent => agent.status === 'processing').length;\n        const alertAgents = agents.filter(agent => agent.status === 'alert').length;\n        let overallStatus = 'idle';\n        if (alertAgents > 0) overallStatus = 'alert';else if (processingAgents > 0) overallStatus = 'processing';else if (activeAgents > 0) overallStatus = 'active';\n        setAgentStatus(overallStatus);\n\n        // Update agent activity\n        const newActivity = {\n          id: Date.now(),\n          timestamp: new Date(),\n          agent: 'MetaLoop System',\n          action: `${activeAgents} active, ${processingAgents} processing agents`,\n          status: overallStatus\n        };\n        setAgentActivity(prev => [...prev.slice(-4), newActivity]);\n        onStatusChange(overallStatus);\n      });\n\n      // Listen for connection status\n      webSocketService.on('connected', isConnected => {\n        if (!isConnected) {\n          setAgentStatus('idle');\n        }\n      });\n\n      // Listen for connection status\n      webSocketService.on('connected', isConnected => {\n        if (!isConnected) {\n          setAgentStatus('idle');\n        }\n      });\n    }).catch(error => {\n      console.error('❌ MetaLoopStatus WebSocket connection failed:', error);\n      setAgentStatus('idle');\n    });\n    return () => {\n      // Cleanup listeners when component unmounts\n      webSocketService.off('agent_status_update');\n      webSocketService.off('connected');\n    };\n  }, [onStatusChange]);\n\n  // Animate the polygonal ring\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n    const ctx = canvas.getContext('2d');\n    const centerX = config.diameter / 2;\n    const centerY = config.diameter / 2;\n    const radius = (config.diameter - config.strokeWidth * 2) / 2;\n    let startTime = Date.now();\n    const currentState = agentStates[agentStatus];\n    const animate = () => {\n      const elapsed = Date.now() - startTime;\n      const progress = elapsed % currentState.pulseSpeed / currentState.pulseSpeed;\n\n      // Clear canvas\n      ctx.clearRect(0, 0, config.diameter, config.diameter);\n\n      // Draw base ring\n      ctx.strokeStyle = currentState.color + '40'; // 25% opacity\n      ctx.lineWidth = config.strokeWidth;\n      ctx.beginPath();\n      ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI);\n      ctx.stroke();\n\n      // Draw animated segments based on status\n      if (agentStatus === 'idle') {\n        drawIdleAnimation(ctx, centerX, centerY, radius, progress);\n      } else if (agentStatus === 'processing') {\n        drawProcessingAnimation(ctx, centerX, centerY, radius, progress);\n      } else if (agentStatus === 'active') {\n        drawActiveAnimation(ctx, centerX, centerY, radius, progress);\n      } else if (agentStatus === 'alert') {\n        drawAlertAnimation(ctx, centerX, centerY, radius, progress);\n      }\n      animationRef.current = requestAnimationFrame(animate);\n    };\n    animate();\n    return () => {\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n      }\n    };\n  }, [agentStatus, config]);\n\n  // Animation functions for different states\n  const drawIdleAnimation = (ctx, centerX, centerY, radius, progress) => {\n    // Gentle pulse\n    const pulseRadius = radius + Math.sin(progress * Math.PI * 2) * 3;\n    const opacity = 0.6 + Math.sin(progress * Math.PI * 2) * 0.3;\n    ctx.strokeStyle = agentStates.idle.color + Math.floor(opacity * 255).toString(16).padStart(2, '0');\n    ctx.lineWidth = config.strokeWidth;\n    ctx.beginPath();\n    ctx.arc(centerX, centerY, pulseRadius, 0, 2 * Math.PI);\n    ctx.stroke();\n  };\n  const drawProcessingAnimation = (ctx, centerX, centerY, radius, progress) => {\n    // Rotating segments\n    const segments = 8;\n    const segmentAngle = 2 * Math.PI / segments;\n    const rotationOffset = progress * 2 * Math.PI;\n    ctx.strokeStyle = agentStates.processing.color;\n    ctx.lineWidth = config.strokeWidth;\n    for (let i = 0; i < segments; i++) {\n      const opacity = Math.sin(progress * Math.PI * 2 + i * 0.5) * 0.5 + 0.5;\n      ctx.globalAlpha = opacity;\n      const startAngle = i * segmentAngle + rotationOffset;\n      const endAngle = startAngle + segmentAngle * 0.6;\n      ctx.beginPath();\n      ctx.arc(centerX, centerY, radius, startAngle, endAngle);\n      ctx.stroke();\n    }\n    ctx.globalAlpha = 1;\n  };\n  const drawActiveAnimation = (ctx, centerX, centerY, radius, progress) => {\n    // Polygonal morphing\n    const sides = 6;\n    const morphFactor = Math.sin(progress * Math.PI * 2) * 0.2;\n    ctx.strokeStyle = agentStates.active.color;\n    ctx.lineWidth = config.strokeWidth;\n    ctx.beginPath();\n    for (let i = 0; i <= sides; i++) {\n      const angle = i / sides * 2 * Math.PI - Math.PI / 2;\n      const currentRadius = radius + Math.sin(angle * 3 + progress * Math.PI * 4) * morphFactor * radius;\n      const x = centerX + Math.cos(angle) * currentRadius;\n      const y = centerY + Math.sin(angle) * currentRadius;\n      if (i === 0) ctx.moveTo(x, y);else ctx.lineTo(x, y);\n    }\n    ctx.stroke();\n  };\n  const drawAlertAnimation = (ctx, centerX, centerY, radius, progress) => {\n    // Urgent pulsing with flashing\n    const pulseIntensity = Math.sin(progress * Math.PI * 4); // Faster pulse\n    const flashOpacity = pulseIntensity > 0.5 ? 1 : 0.4;\n    ctx.strokeStyle = agentStates.alert.color;\n    ctx.globalAlpha = flashOpacity;\n    ctx.lineWidth = config.strokeWidth + Math.abs(pulseIntensity) * 2;\n    ctx.beginPath();\n    ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI);\n    ctx.stroke();\n\n    // Inner urgency ring\n    ctx.globalAlpha = flashOpacity * 0.6;\n    ctx.lineWidth = 2;\n    ctx.beginPath();\n    ctx.arc(centerX, centerY, radius * 0.7, 0, 2 * Math.PI);\n    ctx.stroke();\n    ctx.globalAlpha = 1;\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `${positionStyles[position]} ${className}`,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `\n          relative cursor-pointer transition-all duration-300 \n          ${isExpanded ? 'scale-110' : 'scale-100'}\n          hover:scale-105\n        `,\n      onClick: () => setIsExpanded(!isExpanded),\n      children: [/*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef,\n        width: config.diameter,\n        height: config.diameter,\n        className: \"drop-shadow-lg\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute inset-0 flex items-center justify-center\",\n        style: {\n          fontSize: config.fontSize\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"font-semibold text-gray-700\",\n            children: agentStates[agentStatus].icon\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-xs font-medium mt-1\",\n            style: {\n              color: agentStates[agentStatus].color\n            },\n            children: \"AI\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this), isExpanded && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-full left-0 mt-3 w-80 bg-white rounded-lg shadow-xl border border-gray-200 p-4 z-50\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"font-semibold text-gray-900\",\n            children: \"AI Agent Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: e => {\n              e.stopPropagation();\n              setIsExpanded(false);\n            },\n            className: \"text-gray-400 hover:text-gray-600\",\n            children: \"\\u2715\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center gap-3 mb-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"w-3 h-3 rounded-full\",\n              style: {\n                backgroundColor: agentStates[agentStatus].color\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 316,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium text-gray-900 capitalize\",\n              children: agentStatus\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 320,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 315,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600\",\n            children: agentStates[agentStatus].description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"font-medium text-gray-900 text-sm\",\n            children: \"Recent Activity\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2 max-h-32 overflow-y-auto\",\n            children: agentActivity.length === 0 ? /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xs text-gray-500\",\n              children: \"No recent activity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 19\n            }, this) : agentActivity.slice(-4).reverse().map(activity => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center justify-between\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"font-medium text-gray-700\",\n                  children: activity.agent\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 339,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-gray-500\",\n                  children: activity.timestamp.toLocaleTimeString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 338,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-gray-600\",\n                children: activity.action\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 23\n              }, this)]\n            }, activity.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-4 pt-3 border-t border-gray-100\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                // Open agent panel\n                window.dispatchEvent(new CustomEvent('openAgentPanel'));\n              },\n              className: \"flex-1 px-3 py-2 bg-blue-50 text-blue-700 rounded text-xs font-medium hover:bg-blue-100\",\n              children: \"Chat with AI\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 356,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                // Open governance stream\n                window.dispatchEvent(new CustomEvent('openGovernanceStream'));\n              },\n              className: \"flex-1 px-3 py-2 bg-gray-50 text-gray-700 rounded text-xs font-medium hover:bg-gray-100\",\n              children: \"View Activity\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 365,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 262,\n    columnNumber: 5\n  }, this);\n};\n_s(MetaLoopStatus, \"GycpVUWphC/zzcQ+CH2ktIkRIqk=\");\n_c = MetaLoopStatus;\nexport default MetaLoopStatus;\nvar _c;\n$RefreshReg$(_c, \"MetaLoopStatus\");","map":{"version":3,"names":["React","useState","useEffect","useRef","webSocketService","jsxDEV","_jsxDEV","MetaLoopStatus","position","size","showDetails","onStatusChange","className","_s","agentStatus","setAgentStatus","agentActivity","setAgentActivity","isExpanded","setIsExpanded","canvasRef","animationRef","agentStates","idle","color","pulseSpeed","description","icon","processing","active","alert","sizeConfig","small","diameter","strokeWidth","fontSize","medium","large","config","positionStyles","console","log","connect","then","subscribeToAgents","on","data","agents","Object","values","activeAgents","filter","agent","status","length","processingAgents","alertAgents","overallStatus","newActivity","id","Date","now","timestamp","action","prev","slice","isConnected","catch","error","off","canvas","current","ctx","getContext","centerX","centerY","radius","startTime","currentState","animate","elapsed","progress","clearRect","strokeStyle","lineWidth","beginPath","arc","Math","PI","stroke","drawIdleAnimation","drawProcessingAnimation","drawActiveAnimation","drawAlertAnimation","requestAnimationFrame","cancelAnimationFrame","pulseRadius","sin","opacity","floor","toString","padStart","segments","segmentAngle","rotationOffset","i","globalAlpha","startAngle","endAngle","sides","morphFactor","angle","currentRadius","x","cos","y","moveTo","lineTo","pulseIntensity","flashOpacity","abs","children","onClick","ref","width","height","fileName","_jsxFileName","lineNumber","columnNumber","style","e","stopPropagation","backgroundColor","reverse","map","activity","toLocaleTimeString","window","dispatchEvent","CustomEvent","_c","$RefreshReg$"],"sources":["C:/Users/dgtow/intelligent-policy-engine/aicomplyr-intelligence/ui/src/components/MetaLoopStatus.jsx"],"sourcesContent":["// File: ui/components/MetaLoopStatus.jsx\n\nimport React, { useState, useEffect, useRef } from 'react';\nimport webSocketService from '../services/websocket';\n\nexport const MetaLoopStatus = ({ \n  position = 'top-right', \n  size = 'medium',\n  showDetails = false,\n  onStatusChange = () => {},\n  className = ''\n}) => {\n  const [agentStatus, setAgentStatus] = useState('idle');\n  const [agentActivity, setAgentActivity] = useState([]);\n  const [isExpanded, setIsExpanded] = useState(false);\n  const canvasRef = useRef(null);\n  const animationRef = useRef(null);\n\n  // AI Agent States\n  const agentStates = {\n    idle: {\n      color: '#10b981', // green\n      pulseSpeed: 2000,\n      description: 'Monitoring compliance',\n      icon: '🟢'\n    },\n    processing: {\n      color: '#f59e0b', // amber  \n      pulseSpeed: 1200,\n      description: 'Analyzing policy requests',\n      icon: '🟡'\n    },\n    active: {\n      color: '#3b82f6', // blue\n      pulseSpeed: 800,\n      description: 'Making governance decisions', \n      icon: '🔵'\n    },\n    alert: {\n      color: '#ef4444', // red\n      pulseSpeed: 600,\n      description: 'Requiring human attention',\n      icon: '🔴'\n    }\n  };\n\n  // Size configurations\n  const sizeConfig = {\n    small: { diameter: 60, strokeWidth: 3, fontSize: '12px' },\n    medium: { diameter: 80, strokeWidth: 4, fontSize: '14px' },\n    large: { diameter: 100, strokeWidth: 5, fontSize: '16px' }\n  };\n\n  const config = sizeConfig[size];\n\n  // Position configurations\n  const positionStyles = {\n    'top-right': 'fixed top-6 right-6 z-50',\n    'top-left': 'fixed top-6 left-6 z-50', \n    'bottom-right': 'fixed bottom-6 right-6 z-50',\n    'bottom-left': 'fixed bottom-6 left-6 z-50',\n    'inline': 'relative'\n  };\n\n  // Connect to WebSocket for real agent status updates\n  useEffect(() => {\n    console.log('🔌 Connecting MetaLoopStatus to WebSocket...')\n    \n    webSocketService.connect().then(() => {\n      console.log('✅ MetaLoopStatus WebSocket connected')\n      \n      // Subscribe to agent updates\n      webSocketService.subscribeToAgents()\n      \n      // Listen for agent status updates\n      webSocketService.on('agent_status_update', (data) => {\n        console.log('📨 Received agent status update:', data)\n        \n        // Determine overall status based on agent states\n        const agents = Object.values(data)\n        const activeAgents = agents.filter(agent => agent.status === 'active').length\n        const processingAgents = agents.filter(agent => agent.status === 'processing').length\n        const alertAgents = agents.filter(agent => agent.status === 'alert').length\n        \n        let overallStatus = 'idle'\n        if (alertAgents > 0) overallStatus = 'alert'\n        else if (processingAgents > 0) overallStatus = 'processing'\n        else if (activeAgents > 0) overallStatus = 'active'\n        \n        setAgentStatus(overallStatus)\n        \n        // Update agent activity\n        const newActivity = {\n          id: Date.now(),\n          timestamp: new Date(),\n          agent: 'MetaLoop System',\n          action: `${activeAgents} active, ${processingAgents} processing agents`,\n          status: overallStatus\n        }\n        \n        setAgentActivity(prev => [...prev.slice(-4), newActivity])\n        onStatusChange(overallStatus)\n      })\n      \n      // Listen for connection status\n      webSocketService.on('connected', (isConnected) => {\n        if (!isConnected) {\n          setAgentStatus('idle')\n        }\n      })\n      \n      // Listen for connection status\n      webSocketService.on('connected', (isConnected) => {\n        if (!isConnected) {\n          setAgentStatus('idle')\n        }\n      })\n      \n    }).catch(error => {\n      console.error('❌ MetaLoopStatus WebSocket connection failed:', error)\n      setAgentStatus('idle')\n    })\n    \n    return () => {\n      // Cleanup listeners when component unmounts\n      webSocketService.off('agent_status_update')\n      webSocketService.off('connected')\n    }\n  }, [onStatusChange]);\n\n  // Animate the polygonal ring\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    if (!canvas) return;\n\n    const ctx = canvas.getContext('2d');\n    const centerX = config.diameter / 2;\n    const centerY = config.diameter / 2;\n    const radius = (config.diameter - config.strokeWidth * 2) / 2;\n\n    let startTime = Date.now();\n    const currentState = agentStates[agentStatus];\n\n    const animate = () => {\n      const elapsed = Date.now() - startTime;\n      const progress = (elapsed % currentState.pulseSpeed) / currentState.pulseSpeed;\n\n      // Clear canvas\n      ctx.clearRect(0, 0, config.diameter, config.diameter);\n\n      // Draw base ring\n      ctx.strokeStyle = currentState.color + '40'; // 25% opacity\n      ctx.lineWidth = config.strokeWidth;\n      ctx.beginPath();\n      ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI);\n      ctx.stroke();\n\n      // Draw animated segments based on status\n      if (agentStatus === 'idle') {\n        drawIdleAnimation(ctx, centerX, centerY, radius, progress);\n      } else if (agentStatus === 'processing') {\n        drawProcessingAnimation(ctx, centerX, centerY, radius, progress);\n      } else if (agentStatus === 'active') {\n        drawActiveAnimation(ctx, centerX, centerY, radius, progress);\n      } else if (agentStatus === 'alert') {\n        drawAlertAnimation(ctx, centerX, centerY, radius, progress);\n      }\n\n      animationRef.current = requestAnimationFrame(animate);\n    };\n\n    animate();\n\n    return () => {\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n      }\n    };\n  }, [agentStatus, config]);\n\n  // Animation functions for different states\n  const drawIdleAnimation = (ctx, centerX, centerY, radius, progress) => {\n    // Gentle pulse\n    const pulseRadius = radius + Math.sin(progress * Math.PI * 2) * 3;\n    const opacity = 0.6 + Math.sin(progress * Math.PI * 2) * 0.3;\n    \n    ctx.strokeStyle = agentStates.idle.color + Math.floor(opacity * 255).toString(16).padStart(2, '0');\n    ctx.lineWidth = config.strokeWidth;\n    ctx.beginPath();\n    ctx.arc(centerX, centerY, pulseRadius, 0, 2 * Math.PI);\n    ctx.stroke();\n  };\n\n  const drawProcessingAnimation = (ctx, centerX, centerY, radius, progress) => {\n    // Rotating segments\n    const segments = 8;\n    const segmentAngle = (2 * Math.PI) / segments;\n    const rotationOffset = progress * 2 * Math.PI;\n\n    ctx.strokeStyle = agentStates.processing.color;\n    ctx.lineWidth = config.strokeWidth;\n    \n    for (let i = 0; i < segments; i++) {\n      const opacity = Math.sin(progress * Math.PI * 2 + i * 0.5) * 0.5 + 0.5;\n      ctx.globalAlpha = opacity;\n      \n      const startAngle = i * segmentAngle + rotationOffset;\n      const endAngle = startAngle + segmentAngle * 0.6;\n      \n      ctx.beginPath();\n      ctx.arc(centerX, centerY, radius, startAngle, endAngle);\n      ctx.stroke();\n    }\n    ctx.globalAlpha = 1;\n  };\n\n  const drawActiveAnimation = (ctx, centerX, centerY, radius, progress) => {\n    // Polygonal morphing\n    const sides = 6;\n    const morphFactor = Math.sin(progress * Math.PI * 2) * 0.2;\n    \n    ctx.strokeStyle = agentStates.active.color;\n    ctx.lineWidth = config.strokeWidth;\n    ctx.beginPath();\n    \n    for (let i = 0; i <= sides; i++) {\n      const angle = (i / sides) * 2 * Math.PI - Math.PI / 2;\n      const currentRadius = radius + Math.sin(angle * 3 + progress * Math.PI * 4) * morphFactor * radius;\n      const x = centerX + Math.cos(angle) * currentRadius;\n      const y = centerY + Math.sin(angle) * currentRadius;\n      \n      if (i === 0) ctx.moveTo(x, y);\n      else ctx.lineTo(x, y);\n    }\n    ctx.stroke();\n  };\n\n  const drawAlertAnimation = (ctx, centerX, centerY, radius, progress) => {\n    // Urgent pulsing with flashing\n    const pulseIntensity = Math.sin(progress * Math.PI * 4); // Faster pulse\n    const flashOpacity = pulseIntensity > 0.5 ? 1 : 0.4;\n    \n    ctx.strokeStyle = agentStates.alert.color;\n    ctx.globalAlpha = flashOpacity;\n    ctx.lineWidth = config.strokeWidth + Math.abs(pulseIntensity) * 2;\n    \n    ctx.beginPath();\n    ctx.arc(centerX, centerY, radius, 0, 2 * Math.PI);\n    ctx.stroke();\n    \n    // Inner urgency ring\n    ctx.globalAlpha = flashOpacity * 0.6;\n    ctx.lineWidth = 2;\n    ctx.beginPath();\n    ctx.arc(centerX, centerY, radius * 0.7, 0, 2 * Math.PI);\n    ctx.stroke();\n    \n    ctx.globalAlpha = 1;\n  };\n\n  return (\n    <div className={`${positionStyles[position]} ${className}`}>\n      <div \n        className={`\n          relative cursor-pointer transition-all duration-300 \n          ${isExpanded ? 'scale-110' : 'scale-100'}\n          hover:scale-105\n        `}\n        onClick={() => setIsExpanded(!isExpanded)}\n      >\n        {/* Main Status Ring */}\n        <canvas\n          ref={canvasRef}\n          width={config.diameter}\n          height={config.diameter}\n          className=\"drop-shadow-lg\"\n        />\n        \n        {/* Center Status Indicator */}\n        <div \n          className=\"absolute inset-0 flex items-center justify-center\"\n          style={{ fontSize: config.fontSize }}\n        >\n          <div className=\"text-center\">\n            <div className=\"font-semibold text-gray-700\">\n              {agentStates[agentStatus].icon}\n            </div>\n            <div \n              className=\"text-xs font-medium mt-1\"\n              style={{ color: agentStates[agentStatus].color }}\n            >\n              AI\n            </div>\n          </div>\n        </div>\n\n        {/* Expanded Details Panel */}\n        {isExpanded && (\n          <div className=\"absolute top-full left-0 mt-3 w-80 bg-white rounded-lg shadow-xl border border-gray-200 p-4 z-50\">\n            <div className=\"flex items-center justify-between mb-3\">\n              <h3 className=\"font-semibold text-gray-900\">AI Agent Status</h3>\n              <button\n                onClick={(e) => {\n                  e.stopPropagation();\n                  setIsExpanded(false);\n                }}\n                className=\"text-gray-400 hover:text-gray-600\"\n              >\n                ✕\n              </button>\n            </div>\n\n            {/* Current Status */}\n            <div className=\"mb-4\">\n              <div className=\"flex items-center gap-3 mb-2\">\n                <div \n                  className=\"w-3 h-3 rounded-full\"\n                  style={{ backgroundColor: agentStates[agentStatus].color }}\n                />\n                <span className=\"font-medium text-gray-900 capitalize\">\n                  {agentStatus}\n                </span>\n              </div>\n              <p className=\"text-sm text-gray-600\">\n                {agentStates[agentStatus].description}\n              </p>\n            </div>\n\n            {/* Recent Activity */}\n            <div className=\"space-y-2\">\n              <h4 className=\"font-medium text-gray-900 text-sm\">Recent Activity</h4>\n              <div className=\"space-y-2 max-h-32 overflow-y-auto\">\n                {agentActivity.length === 0 ? (\n                  <p className=\"text-xs text-gray-500\">No recent activity</p>\n                ) : (\n                  agentActivity.slice(-4).reverse().map(activity => (\n                    <div key={activity.id} className=\"text-xs\">\n                      <div className=\"flex items-center justify-between\">\n                        <span className=\"font-medium text-gray-700\">\n                          {activity.agent}\n                        </span>\n                        <span className=\"text-gray-500\">\n                          {activity.timestamp.toLocaleTimeString()}\n                        </span>\n                      </div>\n                      <p className=\"text-gray-600\">{activity.action}</p>\n                    </div>\n                  ))\n                )}\n              </div>\n            </div>\n\n            {/* Quick Actions */}\n            <div className=\"mt-4 pt-3 border-t border-gray-100\">\n              <div className=\"flex gap-2\">\n                <button\n                  onClick={() => {\n                    // Open agent panel\n                    window.dispatchEvent(new CustomEvent('openAgentPanel'));\n                  }}\n                  className=\"flex-1 px-3 py-2 bg-blue-50 text-blue-700 rounded text-xs font-medium hover:bg-blue-100\"\n                >\n                  Chat with AI\n                </button>\n                <button\n                  onClick={() => {\n                    // Open governance stream\n                    window.dispatchEvent(new CustomEvent('openGovernanceStream'));\n                  }}\n                  className=\"flex-1 px-3 py-2 bg-gray-50 text-gray-700 rounded text-xs font-medium hover:bg-gray-100\"\n                >\n                  View Activity\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default MetaLoopStatus; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}