{"ast":null,"code":"import React,{createContext,useContext,useState,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";const UserContext=/*#__PURE__*/createContext();export const useUser=()=>{const context=useContext(UserContext);if(!context){throw new Error('useUser must be used within a UserProvider');}return context;};export const UserProvider=_ref=>{let{children}=_ref;const[user,setUser]=useState(null);const[role,setRole]=useState('enterprise');const[workflow,setWorkflow]=useState(null);const[permissions,setPermissions]=useState([]);const[organizations,setOrganizations]=useState([]);const[currentOrganization,setCurrentOrganization]=useState(null);useEffect(()=>{// Initialize user context\nconst initializeUser=async()=>{try{// Mock user data - in real app, this would come from Auth0 or similar\nconst mockUser={id:'user_123',email:'admin@aicomplyr.io',name:'Enterprise Admin',role:'enterprise',permissions:['audit:read','policy:write','user:read','org:read','system:admin','review_overrides','agency:invite','policy:read'],organizations:[{id:'org_456',name:'PharmaCorp Inc.',type:'enterprise',role:'admin'}]};setUser(mockUser);setRole(mockUser.role);setPermissions(mockUser.permissions);setOrganizations(mockUser.organizations);setCurrentOrganization(mockUser.organizations[0]);console.log('ðŸ‘¤ User context initialized:',mockUser);}catch(error){console.error('âŒ Error initializing user context:',error);}};initializeUser();},[]);const hasPermission=permission=>{return permissions.includes(permission);};const hasRole=userRole=>{return role===userRole;};const switchOrganization=orgId=>{const org=organizations.find(o=>o.id===orgId);if(org){setCurrentOrganization(org);console.log(`ðŸ¢ Switched to organization: ${org.name}`);}};const updateWorkflow=workflowData=>{setWorkflow(workflowData);console.log('ðŸ”„ Workflow updated:',workflowData);};const clearWorkflow=()=>{setWorkflow(null);console.log('ðŸ”„ Workflow cleared');};const value={user,role,setRole,workflow,setWorkflow:updateWorkflow,clearWorkflow,permissions,organizations,currentOrganization,switchOrganization,hasPermission,hasRole};return/*#__PURE__*/_jsx(UserContext.Provider,{value:value,children:children});};export{UserContext};","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","jsx","_jsx","UserContext","useUser","context","Error","UserProvider","_ref","children","user","setUser","role","setRole","workflow","setWorkflow","permissions","setPermissions","organizations","setOrganizations","currentOrganization","setCurrentOrganization","initializeUser","mockUser","id","email","name","type","console","log","error","hasPermission","permission","includes","hasRole","userRole","switchOrganization","orgId","org","find","o","updateWorkflow","workflowData","clearWorkflow","value","Provider"],"sources":["/workspace/ui/src/contexts/UserContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\n\nconst UserContext = createContext();\n\nexport const useUser = () => {\n  const context = useContext(UserContext);\n  if (!context) {\n    throw new Error('useUser must be used within a UserProvider');\n  }\n  return context;\n};\n\nexport const UserProvider = ({ children }) => {\n  const [user, setUser] = useState(null);\n  const [role, setRole] = useState('enterprise');\n  const [workflow, setWorkflow] = useState(null);\n  const [permissions, setPermissions] = useState([]);\n  const [organizations, setOrganizations] = useState([]);\n  const [currentOrganization, setCurrentOrganization] = useState(null);\n\n  useEffect(() => {\n    // Initialize user context\n    const initializeUser = async () => {\n      try {\n        // Mock user data - in real app, this would come from Auth0 or similar\n        const mockUser = {\n          id: 'user_123',\n          email: 'admin@aicomplyr.io',\n          name: 'Enterprise Admin',\n          role: 'enterprise',\n          permissions: [\n            'audit:read',\n            'policy:write',\n            'user:read',\n            'org:read',\n            'system:admin',\n            'review_overrides',\n            'agency:invite',\n            'policy:read'\n          ],\n          organizations: [\n            {\n              id: 'org_456',\n              name: 'PharmaCorp Inc.',\n              type: 'enterprise',\n              role: 'admin'\n            }\n          ]\n        };\n\n        setUser(mockUser);\n        setRole(mockUser.role);\n        setPermissions(mockUser.permissions);\n        setOrganizations(mockUser.organizations);\n        setCurrentOrganization(mockUser.organizations[0]);\n\n        console.log('ðŸ‘¤ User context initialized:', mockUser);\n      } catch (error) {\n        console.error('âŒ Error initializing user context:', error);\n      }\n    };\n\n    initializeUser();\n  }, []);\n\n  const hasPermission = (permission) => {\n    return permissions.includes(permission);\n  };\n\n  const hasRole = (userRole) => {\n    return role === userRole;\n  };\n\n  const switchOrganization = (orgId) => {\n    const org = organizations.find(o => o.id === orgId);\n    if (org) {\n      setCurrentOrganization(org);\n      console.log(`ðŸ¢ Switched to organization: ${org.name}`);\n    }\n  };\n\n  const updateWorkflow = (workflowData) => {\n    setWorkflow(workflowData);\n    console.log('ðŸ”„ Workflow updated:', workflowData);\n  };\n\n  const clearWorkflow = () => {\n    setWorkflow(null);\n    console.log('ðŸ”„ Workflow cleared');\n  };\n\n  const value = {\n    user,\n    role,\n    setRole,\n    workflow,\n    setWorkflow: updateWorkflow,\n    clearWorkflow,\n    permissions,\n    organizations,\n    currentOrganization,\n    switchOrganization,\n    hasPermission,\n    hasRole\n  };\n\n  return (\n    <UserContext.Provider value={value}>\n      {children}\n    </UserContext.Provider>\n  );\n};\n\nexport { UserContext }; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}