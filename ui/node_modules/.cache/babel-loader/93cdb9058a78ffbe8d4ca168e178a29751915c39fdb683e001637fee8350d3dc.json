{"ast":null,"code":"// LiveGovernanceStream.jsx - Real-time governance event feed\nimport React,{useState,useEffect,useRef}from'react';import{Activity,Shield,Users,AlertTriangle,Clock,Filter,Search,FileText,Zap,TrendingUp,ChevronDown,ChevronUp,Download}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const LiveGovernanceStream=_ref=>{let{isOpen=false,onClose=()=>{},position='right',context=null,currentUser=null}=_ref;const[events,setEvents]=useState([]);const[filteredEvents,setFilteredEvents]=useState([]);const[filters,setFilters]=useState({eventTypes:'all',severity:'all',timeRange:'24h',agency:'all',searchQuery:''});const[isConnected,setIsConnected]=useState(false);const[expandedEvents,setExpandedEvents]=useState(new Set());const[isFilterPanelOpen,setIsFilterPanelOpen]=useState(false);const streamRef=useRef(null);const wsRef=useRef(null);// Event type configurations\nconst eventTypes={policy_decision:{icon:Shield,color:'blue',bgColor:'bg-blue-50',borderColor:'border-blue-200',textColor:'text-blue-800',label:'Policy Decision'},compliance_alert:{icon:AlertTriangle,color:'orange',bgColor:'bg-orange-50',borderColor:'border-orange-200',textColor:'text-orange-800',label:'Compliance Alert'},tool_submission:{icon:FileText,color:'green',bgColor:'bg-green-50',borderColor:'border-green-200',textColor:'text-green-800',label:'Tool Submission'},agent_action:{icon:Zap,color:'purple',bgColor:'bg-purple-50',borderColor:'border-purple-200',textColor:'text-purple-800',label:'AI Agent Action'},risk_assessment:{icon:TrendingUp,color:'red',bgColor:'bg-red-50',borderColor:'border-red-200',textColor:'text-red-800',label:'Risk Assessment'},user_activity:{icon:Users,color:'gray',bgColor:'bg-gray-50',borderColor:'border-gray-200',textColor:'text-gray-800',label:'User Activity'}};// Connect to real-time governance stream\nuseEffect(()=>{if(isOpen){connectToGovernanceStream();loadInitialEvents();}return()=>{if(wsRef.current){wsRef.current.close();}};},[isOpen,context]);// Filter events based on current filters\nuseEffect(()=>{filterEvents();},[events,filters]);const connectToGovernanceStream=()=>{try{const wsUrl=process.env.REACT_APP_WS_URL||'ws://localhost:3001';console.log('Attempting WebSocket connection to:',wsUrl);// For now, just set as not connected since we don't have a real WebSocket server\nsetIsConnected(false);}catch(error){console.error('Failed to connect to governance stream:',error);setIsConnected(false);}};const loadInitialEvents=async()=>{try{// Load recent events from API\nconst mockEvents=generateMockEvents(50);setEvents(mockEvents);}catch(error){console.error('Failed to load initial events:',error);}};const filterEvents=()=>{let filtered=[...events];// Filter by event type\nif(filters.eventTypes!=='all'){filtered=filtered.filter(event=>event.type===filters.eventTypes);}// Filter by severity\nif(filters.severity!=='all'){filtered=filtered.filter(event=>event.severity===filters.severity);}// Filter by time range\nconst now=new Date();const timeRangeMs={'1h':60*60*1000,'24h':24*60*60*1000,'7d':7*24*60*60*1000,'30d':30*24*60*60*1000};if(filters.timeRange!=='all'){const cutoff=new Date(now.getTime()-timeRangeMs[filters.timeRange]);filtered=filtered.filter(event=>new Date(event.timestamp)>cutoff);}// Filter by agency (Enterprise users only)\nif(filters.agency!=='all'&&(currentUser===null||currentUser===void 0?void 0:currentUser.type)==='enterprise'){filtered=filtered.filter(event=>event.agency===filters.agency);}// Filter by search query\nif(filters.searchQuery.trim()){const query=filters.searchQuery.toLowerCase();filtered=filtered.filter(event=>{var _event$agency,_event$user;return event.title.toLowerCase().includes(query)||event.description.toLowerCase().includes(query)||((_event$agency=event.agency)===null||_event$agency===void 0?void 0:_event$agency.toLowerCase().includes(query))||((_event$user=event.user)===null||_event$user===void 0?void 0:_event$user.toLowerCase().includes(query));});}setFilteredEvents(filtered);};const toggleEventExpansion=eventId=>{const newExpanded=new Set(expandedEvents);if(newExpanded.has(eventId)){newExpanded.delete(eventId);}else{newExpanded.add(eventId);}setExpandedEvents(newExpanded);};const exportEvents=()=>{const csvData=filteredEvents.map(event=>({timestamp:event.timestamp,type:event.type,severity:event.severity,title:event.title,description:event.description,agency:event.agency,user:event.user,agent:event.agent}));const csv=[Object.keys(csvData[0]).join(','),...csvData.map(row=>Object.values(row).join(','))].join('\\n');const blob=new Blob([csv],{type:'text/csv'});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=`governance-events-${new Date().toISOString().split('T')[0]}.csv`;a.click();};if(!isOpen)return null;return/*#__PURE__*/_jsxs(\"div\",{className:`\n      fixed inset-y-0 z-40 flex flex-col bg-white shadow-2xl border-l border-gray-200 transition-all duration-300\n      ${position==='right'?'right-0':'left-0'}\n      ${isOpen?'w-96':'w-0'}\n    `,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-indigo-500 to-purple-600 text-white\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(Activity,{size:20}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold\",children:\"Live Governance\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-indigo-100\",children:isConnected?`${filteredEvents.length} events • Connected`:`${filteredEvents.length} events • Mock Data`})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsFilterPanelOpen(!isFilterPanelOpen),className:\"text-white hover:text-gray-200 p-1 transition-colors\",children:/*#__PURE__*/_jsx(Filter,{size:16})}),/*#__PURE__*/_jsx(\"button\",{onClick:exportEvents,className:\"text-white hover:text-gray-200 p-1 transition-colors\",children:/*#__PURE__*/_jsx(Download,{size:16})}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"text-white hover:text-gray-200 p-1 transition-colors\",children:\"\\u2715\"})]})]}),isFilterPanelOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"border-b border-gray-200 bg-gray-50 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(Search,{className:\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\",size:16}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search events...\",value:filters.searchQuery,onChange:e=>setFilters({...filters,searchQuery:e.target.value}),className:\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Event Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.eventTypes,onChange:e=>setFilters({...filters,eventTypes:e.target.value}),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Types\"}),Object.entries(eventTypes).map(_ref2=>{let[key,type]=_ref2;return/*#__PURE__*/_jsx(\"option\",{value:key,children:type.label},key);})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-3\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Severity\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.severity,onChange:e=>setFilters({...filters,severity:e.target.value}),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All\"}),/*#__PURE__*/_jsx(\"option\",{value:\"low\",children:\"Low\"}),/*#__PURE__*/_jsx(\"option\",{value:\"medium\",children:\"Medium\"}),/*#__PURE__*/_jsx(\"option\",{value:\"high\",children:\"High\"}),/*#__PURE__*/_jsx(\"option\",{value:\"critical\",children:\"Critical\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Time Range\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.timeRange,onChange:e=>setFilters({...filters,timeRange:e.target.value}),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"1h\",children:\"Last Hour\"}),/*#__PURE__*/_jsx(\"option\",{value:\"24h\",children:\"Last 24 Hours\"}),/*#__PURE__*/_jsx(\"option\",{value:\"7d\",children:\"Last 7 Days\"}),/*#__PURE__*/_jsx(\"option\",{value:\"30d\",children:\"Last 30 Days\"}),/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Time\"})]})]})]}),(currentUser===null||currentUser===void 0?void 0:currentUser.type)==='enterprise'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-xs font-medium text-gray-700 mb-1\",children:\"Agency\"}),/*#__PURE__*/_jsxs(\"select\",{value:filters.agency,onChange:e=>setFilters({...filters,agency:e.target.value}),className:\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"all\",children:\"All Agencies\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ogilvy-health\",children:\"Ogilvy Health\"}),/*#__PURE__*/_jsx(\"option\",{value:\"mccann-health\",children:\"McCann Health\"}),/*#__PURE__*/_jsx(\"option\",{value:\"havas-health\",children:\"Havas Health\"}),/*#__PURE__*/_jsx(\"option\",{value:\"razorfish-health\",children:\"Razorfish Health\"})]})]})]})}),/*#__PURE__*/_jsx(\"div\",{ref:streamRef,className:\"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50\",children:filteredEvents.length===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(Activity,{className:\"mx-auto text-gray-400 mb-4\",size:48}),/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-2\",children:\"No Events Found\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-sm\",children:filters.searchQuery||filters.eventTypes!=='all'||filters.timeRange!=='24h'?'Try adjusting your filters to see more events.':'Events will appear here as they occur.'})]}):filteredEvents.map(event=>/*#__PURE__*/_jsx(EventCard,{event:event,eventType:eventTypes[event.type],isExpanded:expandedEvents.has(event.id),onToggleExpansion:()=>toggleEventExpansion(event.id),currentUser:currentUser},event.id))}),/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-gray-200 px-4 py-2 bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between text-xs text-gray-500\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:`w-2 h-2 rounded-full ${isConnected?'bg-green-500':'bg-gray-500'}`}),/*#__PURE__*/_jsx(\"span\",{children:isConnected?'Live Stream Active':'Mock Data Mode'})]}),/*#__PURE__*/_jsxs(\"span\",{children:[filteredEvents.length,\" events shown\"]})]})})]});};// Individual Event Card Component - FIXED VERSION\nconst EventCard=_ref3=>{let{event,eventType,isExpanded,onToggleExpansion,currentUser}=_ref3;const Icon=eventType.icon;const timeAgo=getTimeAgo(event.timestamp);const getSeverityColor=severity=>{switch(severity){case'critical':return'text-red-600 bg-red-100';case'high':return'text-orange-600 bg-orange-100';case'medium':return'text-yellow-600 bg-yellow-100';case'low':return'text-green-600 bg-green-100';default:return'text-gray-600 bg-gray-100';}};// Fixed: Use static classes instead of dynamic\nconst getIconColorClass=color=>{switch(color){case'blue':return'text-blue-600';case'orange':return'text-orange-600';case'green':return'text-green-600';case'purple':return'text-purple-600';case'red':return'text-red-600';case'gray':return'text-gray-600';default:return'text-gray-600';}};return/*#__PURE__*/_jsxs(\"div\",{className:`\n      border rounded-lg bg-white shadow-sm transition-all duration-200 hover:shadow-md\n      ${eventType.borderColor}\n    `,children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-3 flex-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:`\n              w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0\n              ${eventType.bgColor}\n            `,children:/*#__PURE__*/_jsx(Icon,{size:16,className:getIconColorClass(eventType.color)})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2 mb-1\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 text-sm truncate\",children:event.title}),/*#__PURE__*/_jsx(\"span\",{className:`\n                  px-2 py-1 rounded text-xs font-medium\n                  ${getSeverityColor(event.severity)}\n                `,children:event.severity})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 text-sm mb-2\",style:{overflow:'hidden',display:'-webkit-box',WebkitLineClamp:2,WebkitBoxOrient:'vertical'},children:event.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 text-xs text-gray-500\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(Clock,{size:12}),timeAgo]}),event.agency&&/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(Users,{size:12}),event.agency]}),event.user&&/*#__PURE__*/_jsx(\"span\",{children:event.user}),event.agent&&/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(Zap,{size:12}),event.agent]})]})]})]}),event.details&&/*#__PURE__*/_jsx(\"button\",{onClick:onToggleExpansion,className:\"text-gray-400 hover:text-gray-600 p-1 transition-colors\",children:isExpanded?/*#__PURE__*/_jsx(ChevronUp,{size:16}):/*#__PURE__*/_jsx(ChevronDown,{size:16})})]})}),isExpanded&&event.details&&/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-gray-200 p-4 bg-gray-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[event.details.map((detail,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900 mb-1\",children:detail.label}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-600\",children:detail.value})]},index)),event.actions&&event.actions.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"pt-3 border-t border-gray-200\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"font-medium text-gray-900 mb-2 text-sm\",children:\"Quick Actions\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-2\",children:event.actions.map((action,index)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>executeEventAction(action),className:\"px-3 py-1 bg-blue-100 text-blue-700 rounded text-xs font-medium hover:bg-blue-200 transition-colors\",children:action.label},index))})]})]})})]});};// Utility functions\nconst getTimeAgo=timestamp=>{const now=new Date();const eventTime=new Date(timestamp);const diffMs=now-eventTime;const diffMins=Math.floor(diffMs/60000);const diffHours=Math.floor(diffMins/60);const diffDays=Math.floor(diffHours/24);if(diffMins<1)return'Just now';if(diffMins<60)return`${diffMins}m ago`;if(diffHours<24)return`${diffHours}h ago`;return`${diffDays}d ago`;};const executeEventAction=action=>{// Execute action and update UI\nwindow.dispatchEvent(new CustomEvent(action.event,{detail:action.data}));};// Mock event generator for development\nconst generateMockEvents=count=>{const mockEvents=[];const eventTemplates=[{type:'policy_decision',severity:'medium',title:'AI Policy Updated',description:'Social media content policy updated with new FDA guidelines',agency:'Ogilvy Health',user:'Sarah Johnson',agent:'Policy Assistant'},{type:'tool_submission',severity:'low',title:'New Tool Submitted',description:'Midjourney v6 submitted for approval by creative team',agency:'McCann Health',user:'Mike Chen',agent:null},{type:'compliance_alert',severity:'high',title:'Compliance Violation Detected',description:'Medical claim detected in AI-generated social media post',agency:'Havas Health',user:'Emma Wilson',agent:'Compliance Monitor'},{type:'risk_assessment',severity:'medium',title:'Risk Assessment Complete',description:'Quarterly AI tool risk assessment completed for all approved tools',agency:'Razorfish Health',user:'David Lee',agent:'Risk Analyzer'},{type:'agent_action',severity:'low',title:'Auto-Approval Processed',description:'Low-risk content variation automatically approved by AI agent',agency:'McCann Health',user:null,agent:'Approval Assistant'}];for(let i=0;i<count;i++){const template=eventTemplates[Math.floor(Math.random()*eventTemplates.length)];const event={id:Date.now()+i,...template,timestamp:new Date(Date.now()-Math.random()*86400000*7).toISOString(),// Random time in last week\ndetails:[{label:'Event ID',value:`EVT-${String(Date.now()+i).slice(-8)}`},{label:'Source',value:'AI Governance System'},{label:'Impact',value:template.severity==='high'?'High - Immediate attention required':'Low - Routine monitoring'}],actions:template.type==='compliance_alert'?[{label:'Review Details',event:'openComplianceReview',data:{eventId:Date.now()+i}},{label:'Contact Agency',event:'openAgencyContact',data:{agency:template.agency}}]:[]};mockEvents.push(event);}return mockEvents.sort((a,b)=>new Date(b.timestamp)-new Date(a.timestamp));};// Integration hook for opening LiveGovernanceStream\nexport const useLiveGovernanceStream=()=>{const[isStreamOpen,setIsStreamOpen]=useState(false);const[streamContext,setStreamContext]=useState(null);useEffect(()=>{const handleOpenStream=event=>{setStreamContext(event.detail||null);setIsStreamOpen(true);};window.addEventListener('openGovernanceStream',handleOpenStream);return()=>window.removeEventListener('openGovernanceStream',handleOpenStream);},[]);const openStream=function(){let context=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;setStreamContext(context);setIsStreamOpen(true);};return{isStreamOpen,setIsStreamOpen,streamContext,openStream};};export default LiveGovernanceStream;","map":{"version":3,"names":["React","useState","useEffect","useRef","Activity","Shield","Users","AlertTriangle","Clock","Filter","Search","FileText","Zap","TrendingUp","ChevronDown","ChevronUp","Download","jsx","_jsx","jsxs","_jsxs","LiveGovernanceStream","_ref","isOpen","onClose","position","context","currentUser","events","setEvents","filteredEvents","setFilteredEvents","filters","setFilters","eventTypes","severity","timeRange","agency","searchQuery","isConnected","setIsConnected","expandedEvents","setExpandedEvents","Set","isFilterPanelOpen","setIsFilterPanelOpen","streamRef","wsRef","policy_decision","icon","color","bgColor","borderColor","textColor","label","compliance_alert","tool_submission","agent_action","risk_assessment","user_activity","connectToGovernanceStream","loadInitialEvents","current","close","filterEvents","wsUrl","process","env","REACT_APP_WS_URL","console","log","error","mockEvents","generateMockEvents","filtered","filter","event","type","now","Date","timeRangeMs","cutoff","getTime","timestamp","trim","query","toLowerCase","_event$agency","_event$user","title","includes","description","user","toggleEventExpansion","eventId","newExpanded","has","delete","add","exportEvents","csvData","map","agent","csv","Object","keys","join","row","values","blob","Blob","url","URL","createObjectURL","a","document","createElement","href","download","toISOString","split","click","className","children","size","length","onClick","placeholder","value","onChange","e","target","entries","_ref2","key","ref","EventCard","eventType","isExpanded","id","onToggleExpansion","_ref3","Icon","timeAgo","getTimeAgo","getSeverityColor","getIconColorClass","style","overflow","display","WebkitLineClamp","WebkitBoxOrient","details","detail","index","actions","action","executeEventAction","eventTime","diffMs","diffMins","Math","floor","diffHours","diffDays","window","dispatchEvent","CustomEvent","data","count","eventTemplates","i","template","random","String","slice","push","sort","b","useLiveGovernanceStream","isStreamOpen","setIsStreamOpen","streamContext","setStreamContext","handleOpenStream","addEventListener","removeEventListener","openStream","arguments","undefined"],"sources":["C:/Users/dgtow/intelligent-policy-engine/aicomplyr-intelligence/ui/src/components/LiveGovernanceStream.jsx"],"sourcesContent":["// LiveGovernanceStream.jsx - Real-time governance event feed\r\nimport React, { useState, useEffect, useRef } from 'react'\r\nimport { \r\n  Activity, Shield, Users, AlertTriangle, Clock, \r\n  Filter, Search, FileText, Zap, TrendingUp,\r\n  ChevronDown, ChevronUp, Download\r\n} from 'lucide-react'\r\n\r\nexport const LiveGovernanceStream = ({ \r\n  isOpen = false,\r\n  onClose = () => {},\r\n  position = 'right',\r\n  context = null,\r\n  currentUser = null\r\n}) => {\r\n  const [events, setEvents] = useState([])\r\n  const [filteredEvents, setFilteredEvents] = useState([])\r\n  const [filters, setFilters] = useState({\r\n    eventTypes: 'all',\r\n    severity: 'all',\r\n    timeRange: '24h',\r\n    agency: 'all',\r\n    searchQuery: ''\r\n  })\r\n  const [isConnected, setIsConnected] = useState(false)\r\n  const [expandedEvents, setExpandedEvents] = useState(new Set())\r\n  const [isFilterPanelOpen, setIsFilterPanelOpen] = useState(false)\r\n  const streamRef = useRef(null)\r\n  const wsRef = useRef(null)\r\n\r\n  // Event type configurations\r\n  const eventTypes = {\r\n    policy_decision: {\r\n      icon: Shield,\r\n      color: 'blue',\r\n      bgColor: 'bg-blue-50',\r\n      borderColor: 'border-blue-200',\r\n      textColor: 'text-blue-800',\r\n      label: 'Policy Decision'\r\n    },\r\n    compliance_alert: {\r\n      icon: AlertTriangle,\r\n      color: 'orange',\r\n      bgColor: 'bg-orange-50',\r\n      borderColor: 'border-orange-200',\r\n      textColor: 'text-orange-800',\r\n      label: 'Compliance Alert'\r\n    },\r\n    tool_submission: {\r\n      icon: FileText,\r\n      color: 'green',\r\n      bgColor: 'bg-green-50',\r\n      borderColor: 'border-green-200',\r\n      textColor: 'text-green-800',\r\n      label: 'Tool Submission'\r\n    },\r\n    agent_action: {\r\n      icon: Zap,\r\n      color: 'purple',\r\n      bgColor: 'bg-purple-50',\r\n      borderColor: 'border-purple-200',\r\n      textColor: 'text-purple-800',\r\n      label: 'AI Agent Action'\r\n    },\r\n    risk_assessment: {\r\n      icon: TrendingUp,\r\n      color: 'red',\r\n      bgColor: 'bg-red-50',\r\n      borderColor: 'border-red-200',\r\n      textColor: 'text-red-800',\r\n      label: 'Risk Assessment'\r\n    },\r\n    user_activity: {\r\n      icon: Users,\r\n      color: 'gray',\r\n      bgColor: 'bg-gray-50',\r\n      borderColor: 'border-gray-200',\r\n      textColor: 'text-gray-800',\r\n      label: 'User Activity'\r\n    }\r\n  }\r\n\r\n  // Connect to real-time governance stream\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      connectToGovernanceStream()\r\n      loadInitialEvents()\r\n    }\r\n\r\n    return () => {\r\n      if (wsRef.current) {\r\n        wsRef.current.close()\r\n      }\r\n    }\r\n  }, [isOpen, context])\r\n\r\n  // Filter events based on current filters\r\n  useEffect(() => {\r\n    filterEvents()\r\n  }, [events, filters])\r\n\r\n  const connectToGovernanceStream = () => {\r\n    try {\r\n      const wsUrl = process.env.REACT_APP_WS_URL || 'ws://localhost:3001'\r\n      console.log('Attempting WebSocket connection to:', wsUrl)\r\n      \r\n      // For now, just set as not connected since we don't have a real WebSocket server\r\n      setIsConnected(false)\r\n    } catch (error) {\r\n      console.error('Failed to connect to governance stream:', error)\r\n      setIsConnected(false)\r\n    }\r\n  }\r\n\r\n  const loadInitialEvents = async () => {\r\n    try {\r\n      // Load recent events from API\r\n      const mockEvents = generateMockEvents(50)\r\n      setEvents(mockEvents)\r\n    } catch (error) {\r\n      console.error('Failed to load initial events:', error)\r\n    }\r\n  }\r\n\r\n  const filterEvents = () => {\r\n    let filtered = [...events]\r\n\r\n    // Filter by event type\r\n    if (filters.eventTypes !== 'all') {\r\n      filtered = filtered.filter(event => event.type === filters.eventTypes)\r\n    }\r\n\r\n    // Filter by severity\r\n    if (filters.severity !== 'all') {\r\n      filtered = filtered.filter(event => event.severity === filters.severity)\r\n    }\r\n\r\n    // Filter by time range\r\n    const now = new Date()\r\n    const timeRangeMs = {\r\n      '1h': 60 * 60 * 1000,\r\n      '24h': 24 * 60 * 60 * 1000,\r\n      '7d': 7 * 24 * 60 * 60 * 1000,\r\n      '30d': 30 * 24 * 60 * 60 * 1000\r\n    }\r\n    \r\n    if (filters.timeRange !== 'all') {\r\n      const cutoff = new Date(now.getTime() - timeRangeMs[filters.timeRange])\r\n      filtered = filtered.filter(event => new Date(event.timestamp) > cutoff)\r\n    }\r\n\r\n    // Filter by agency (Enterprise users only)\r\n    if (filters.agency !== 'all' && currentUser?.type === 'enterprise') {\r\n      filtered = filtered.filter(event => event.agency === filters.agency)\r\n    }\r\n\r\n    // Filter by search query\r\n    if (filters.searchQuery.trim()) {\r\n      const query = filters.searchQuery.toLowerCase()\r\n      filtered = filtered.filter(event => \r\n        event.title.toLowerCase().includes(query) ||\r\n        event.description.toLowerCase().includes(query) ||\r\n        event.agency?.toLowerCase().includes(query) ||\r\n        event.user?.toLowerCase().includes(query)\r\n      )\r\n    }\r\n\r\n    setFilteredEvents(filtered)\r\n  }\r\n\r\n  const toggleEventExpansion = (eventId) => {\r\n    const newExpanded = new Set(expandedEvents)\r\n    if (newExpanded.has(eventId)) {\r\n      newExpanded.delete(eventId)\r\n    } else {\r\n      newExpanded.add(eventId)\r\n    }\r\n    setExpandedEvents(newExpanded)\r\n  }\r\n\r\n  const exportEvents = () => {\r\n    const csvData = filteredEvents.map(event => ({\r\n      timestamp: event.timestamp,\r\n      type: event.type,\r\n      severity: event.severity,\r\n      title: event.title,\r\n      description: event.description,\r\n      agency: event.agency,\r\n      user: event.user,\r\n      agent: event.agent\r\n    }))\r\n\r\n    const csv = [\r\n      Object.keys(csvData[0]).join(','),\r\n      ...csvData.map(row => Object.values(row).join(','))\r\n    ].join('\\n')\r\n\r\n    const blob = new Blob([csv], { type: 'text/csv' })\r\n    const url = URL.createObjectURL(blob)\r\n    const a = document.createElement('a')\r\n    a.href = url\r\n    a.download = `governance-events-${new Date().toISOString().split('T')[0]}.csv`\r\n    a.click()\r\n  }\r\n\r\n  if (!isOpen) return null\r\n\r\n  return (\r\n    <div className={`\r\n      fixed inset-y-0 z-40 flex flex-col bg-white shadow-2xl border-l border-gray-200 transition-all duration-300\r\n      ${position === 'right' ? 'right-0' : 'left-0'}\r\n      ${isOpen ? 'w-96' : 'w-0'}\r\n    `}>\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between p-4 border-b border-gray-200 bg-gradient-to-r from-indigo-500 to-purple-600 text-white\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <Activity size={20} />\r\n          <div>\r\n            <h3 className=\"font-semibold\">Live Governance</h3>\r\n            <p className=\"text-xs text-indigo-100\">\r\n              {isConnected ? \r\n                `${filteredEvents.length} events • Connected` : \r\n                `${filteredEvents.length} events • Mock Data`\r\n              }\r\n            </p>\r\n          </div>\r\n        </div>\r\n        \r\n        <div className=\"flex items-center gap-2\">\r\n          <button\r\n            onClick={() => setIsFilterPanelOpen(!isFilterPanelOpen)}\r\n            className=\"text-white hover:text-gray-200 p-1 transition-colors\"\r\n          >\r\n            <Filter size={16} />\r\n          </button>\r\n          <button\r\n            onClick={exportEvents}\r\n            className=\"text-white hover:text-gray-200 p-1 transition-colors\"\r\n          >\r\n            <Download size={16} />\r\n          </button>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-white hover:text-gray-200 p-1 transition-colors\"\r\n          >\r\n            ✕\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filter Panel */}\r\n      {isFilterPanelOpen && (\r\n        <div className=\"border-b border-gray-200 bg-gray-50 p-4\">\r\n          <div className=\"space-y-3\">\r\n            {/* Search */}\r\n            <div className=\"relative\">\r\n              <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\" size={16} />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"Search events...\"\r\n                value={filters.searchQuery}\r\n                onChange={(e) => setFilters({...filters, searchQuery: e.target.value})}\r\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg text-sm\"\r\n              />\r\n            </div>\r\n\r\n            {/* Event Type Filter */}\r\n            <div>\r\n              <label className=\"block text-xs font-medium text-gray-700 mb-1\">Event Type</label>\r\n              <select\r\n                value={filters.eventTypes}\r\n                onChange={(e) => setFilters({...filters, eventTypes: e.target.value})}\r\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\r\n              >\r\n                <option value=\"all\">All Types</option>\r\n                {Object.entries(eventTypes).map(([key, type]) => (\r\n                  <option key={key} value={key}>{type.label}</option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-2 gap-3\">\r\n              {/* Severity Filter */}\r\n              <div>\r\n                <label className=\"block text-xs font-medium text-gray-700 mb-1\">Severity</label>\r\n                <select\r\n                  value={filters.severity}\r\n                  onChange={(e) => setFilters({...filters, severity: e.target.value})}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\r\n                >\r\n                  <option value=\"all\">All</option>\r\n                  <option value=\"low\">Low</option>\r\n                  <option value=\"medium\">Medium</option>\r\n                  <option value=\"high\">High</option>\r\n                  <option value=\"critical\">Critical</option>\r\n                </select>\r\n              </div>\r\n\r\n              {/* Time Range Filter */}\r\n              <div>\r\n                <label className=\"block text-xs font-medium text-gray-700 mb-1\">Time Range</label>\r\n                <select\r\n                  value={filters.timeRange}\r\n                  onChange={(e) => setFilters({...filters, timeRange: e.target.value})}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\r\n                >\r\n                  <option value=\"1h\">Last Hour</option>\r\n                  <option value=\"24h\">Last 24 Hours</option>\r\n                  <option value=\"7d\">Last 7 Days</option>\r\n                  <option value=\"30d\">Last 30 Days</option>\r\n                  <option value=\"all\">All Time</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Agency Filter (Enterprise only) */}\r\n            {currentUser?.type === 'enterprise' && (\r\n              <div>\r\n                <label className=\"block text-xs font-medium text-gray-700 mb-1\">Agency</label>\r\n                <select\r\n                  value={filters.agency}\r\n                  onChange={(e) => setFilters({...filters, agency: e.target.value})}\r\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm\"\r\n                >\r\n                  <option value=\"all\">All Agencies</option>\r\n                  <option value=\"ogilvy-health\">Ogilvy Health</option>\r\n                  <option value=\"mccann-health\">McCann Health</option>\r\n                  <option value=\"havas-health\">Havas Health</option>\r\n                  <option value=\"razorfish-health\">Razorfish Health</option>\r\n                </select>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Events Stream */}\r\n      <div \r\n        ref={streamRef}\r\n        className=\"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-50\"\r\n      >\r\n        {filteredEvents.length === 0 ? (\r\n          <div className=\"text-center py-12\">\r\n            <Activity className=\"mx-auto text-gray-400 mb-4\" size={48} />\r\n            <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No Events Found</h3>\r\n            <p className=\"text-gray-500 text-sm\">\r\n              {filters.searchQuery || filters.eventTypes !== 'all' || filters.timeRange !== '24h'\r\n                ? 'Try adjusting your filters to see more events.'\r\n                : 'Events will appear here as they occur.'\r\n              }\r\n            </p>\r\n          </div>\r\n        ) : (\r\n          filteredEvents.map(event => (\r\n            <EventCard\r\n              key={event.id}\r\n              event={event}\r\n              eventType={eventTypes[event.type]}\r\n              isExpanded={expandedEvents.has(event.id)}\r\n              onToggleExpansion={() => toggleEventExpansion(event.id)}\r\n              currentUser={currentUser}\r\n            />\r\n          ))\r\n        )}\r\n      </div>\r\n\r\n      {/* Status Footer */}\r\n      <div className=\"border-t border-gray-200 px-4 py-2 bg-white\">\r\n        <div className=\"flex items-center justify-between text-xs text-gray-500\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <div className={`w-2 h-2 rounded-full ${isConnected ? 'bg-green-500' : 'bg-gray-500'}`} />\r\n            <span>{isConnected ? 'Live Stream Active' : 'Mock Data Mode'}</span>\r\n          </div>\r\n          <span>{filteredEvents.length} events shown</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n// Individual Event Card Component - FIXED VERSION\r\nconst EventCard = ({ event, eventType, isExpanded, onToggleExpansion, currentUser }) => {\r\n  const Icon = eventType.icon\r\n  const timeAgo = getTimeAgo(event.timestamp)\r\n  \r\n  const getSeverityColor = (severity) => {\r\n    switch (severity) {\r\n      case 'critical': return 'text-red-600 bg-red-100'\r\n      case 'high': return 'text-orange-600 bg-orange-100'\r\n      case 'medium': return 'text-yellow-600 bg-yellow-100'\r\n      case 'low': return 'text-green-600 bg-green-100'\r\n      default: return 'text-gray-600 bg-gray-100'\r\n    }\r\n  }\r\n\r\n  // Fixed: Use static classes instead of dynamic\r\n  const getIconColorClass = (color) => {\r\n    switch (color) {\r\n      case 'blue': return 'text-blue-600'\r\n      case 'orange': return 'text-orange-600'\r\n      case 'green': return 'text-green-600'\r\n      case 'purple': return 'text-purple-600'\r\n      case 'red': return 'text-red-600'\r\n      case 'gray': return 'text-gray-600'\r\n      default: return 'text-gray-600'\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={`\r\n      border rounded-lg bg-white shadow-sm transition-all duration-200 hover:shadow-md\r\n      ${eventType.borderColor}\r\n    `}>\r\n      {/* Event Header */}\r\n      <div className=\"p-4\">\r\n        <div className=\"flex items-start justify-between\">\r\n          <div className=\"flex items-start gap-3 flex-1\">\r\n            <div className={`\r\n              w-8 h-8 rounded-full flex items-center justify-center flex-shrink-0\r\n              ${eventType.bgColor}\r\n            `}>\r\n              <Icon size={16} className={getIconColorClass(eventType.color)} />\r\n            </div>\r\n            \r\n            <div className=\"flex-1 min-w-0\">\r\n              <div className=\"flex items-center gap-2 mb-1\">\r\n                <h4 className=\"font-medium text-gray-900 text-sm truncate\">\r\n                  {event.title}\r\n                </h4>\r\n                <span className={`\r\n                  px-2 py-1 rounded text-xs font-medium\r\n                  ${getSeverityColor(event.severity)}\r\n                `}>\r\n                  {event.severity}\r\n                </span>\r\n              </div>\r\n              \r\n              <p className=\"text-gray-600 text-sm mb-2\" style={{ \r\n                overflow: 'hidden',\r\n                display: '-webkit-box',\r\n                WebkitLineClamp: 2,\r\n                WebkitBoxOrient: 'vertical'\r\n              }}>\r\n                {event.description}\r\n              </p>\r\n              \r\n              <div className=\"flex items-center gap-4 text-xs text-gray-500\">\r\n                <span className=\"flex items-center gap-1\">\r\n                  <Clock size={12} />\r\n                  {timeAgo}\r\n                </span>\r\n                {event.agency && (\r\n                  <span className=\"flex items-center gap-1\">\r\n                    <Users size={12} />\r\n                    {event.agency}\r\n                  </span>\r\n                )}\r\n                {event.user && (\r\n                  <span>{event.user}</span>\r\n                )}\r\n                {event.agent && (\r\n                  <span className=\"flex items-center gap-1\">\r\n                    <Zap size={12} />\r\n                    {event.agent}\r\n                  </span>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          {event.details && (\r\n            <button\r\n              onClick={onToggleExpansion}\r\n              className=\"text-gray-400 hover:text-gray-600 p-1 transition-colors\"\r\n            >\r\n              {isExpanded ? <ChevronUp size={16} /> : <ChevronDown size={16} />}\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Expanded Details */}\r\n      {isExpanded && event.details && (\r\n        <div className=\"border-t border-gray-200 p-4 bg-gray-50\">\r\n          <div className=\"space-y-3\">\r\n            {event.details.map((detail, index) => (\r\n              <div key={index} className=\"text-sm\">\r\n                <div className=\"font-medium text-gray-900 mb-1\">{detail.label}</div>\r\n                <div className=\"text-gray-600\">{detail.value}</div>\r\n              </div>\r\n            ))}\r\n            \r\n            {event.actions && event.actions.length > 0 && (\r\n              <div className=\"pt-3 border-t border-gray-200\">\r\n                <div className=\"font-medium text-gray-900 mb-2 text-sm\">Quick Actions</div>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {event.actions.map((action, index) => (\r\n                    <button\r\n                      key={index}\r\n                      onClick={() => executeEventAction(action)}\r\n                      className=\"px-3 py-1 bg-blue-100 text-blue-700 rounded text-xs font-medium hover:bg-blue-200 transition-colors\"\r\n                    >\r\n                      {action.label}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\n// Utility functions\r\nconst getTimeAgo = (timestamp) => {\r\n  const now = new Date()\r\n  const eventTime = new Date(timestamp)\r\n  const diffMs = now - eventTime\r\n  const diffMins = Math.floor(diffMs / 60000)\r\n  const diffHours = Math.floor(diffMins / 60)\r\n  const diffDays = Math.floor(diffHours / 24)\r\n\r\n  if (diffMins < 1) return 'Just now'\r\n  if (diffMins < 60) return `${diffMins}m ago`\r\n  if (diffHours < 24) return `${diffHours}h ago`\r\n  return `${diffDays}d ago`\r\n}\r\n\r\nconst executeEventAction = (action) => {\r\n  // Execute action and update UI\r\n  window.dispatchEvent(new CustomEvent(action.event, { detail: action.data }))\r\n}\r\n\r\n// Mock event generator for development\r\nconst generateMockEvents = (count) => {\r\n  const mockEvents = []\r\n  const eventTemplates = [\r\n    {\r\n      type: 'policy_decision',\r\n      severity: 'medium',\r\n      title: 'AI Policy Updated',\r\n      description: 'Social media content policy updated with new FDA guidelines',\r\n      agency: 'Ogilvy Health',\r\n      user: 'Sarah Johnson',\r\n      agent: 'Policy Assistant'\r\n    },\r\n    {\r\n      type: 'tool_submission',\r\n      severity: 'low',\r\n      title: 'New Tool Submitted',\r\n      description: 'Midjourney v6 submitted for approval by creative team',\r\n      agency: 'McCann Health',\r\n      user: 'Mike Chen',\r\n      agent: null\r\n    },\r\n    {\r\n      type: 'compliance_alert',\r\n      severity: 'high',\r\n      title: 'Compliance Violation Detected',\r\n      description: 'Medical claim detected in AI-generated social media post',\r\n      agency: 'Havas Health',\r\n      user: 'Emma Wilson',\r\n      agent: 'Compliance Monitor'\r\n    },\r\n    {\r\n      type: 'risk_assessment',\r\n      severity: 'medium',\r\n      title: 'Risk Assessment Complete',\r\n      description: 'Quarterly AI tool risk assessment completed for all approved tools',\r\n      agency: 'Razorfish Health',\r\n      user: 'David Lee',\r\n      agent: 'Risk Analyzer'\r\n    },\r\n    {\r\n      type: 'agent_action',\r\n      severity: 'low',\r\n      title: 'Auto-Approval Processed',\r\n      description: 'Low-risk content variation automatically approved by AI agent',\r\n      agency: 'McCann Health',\r\n      user: null,\r\n      agent: 'Approval Assistant'\r\n    }\r\n  ]\r\n\r\n  for (let i = 0; i < count; i++) {\r\n    const template = eventTemplates[Math.floor(Math.random() * eventTemplates.length)]\r\n    const event = {\r\n      id: Date.now() + i,\r\n      ...template,\r\n      timestamp: new Date(Date.now() - Math.random() * 86400000 * 7).toISOString(), // Random time in last week\r\n      details: [\r\n        { label: 'Event ID', value: `EVT-${String(Date.now() + i).slice(-8)}` },\r\n        { label: 'Source', value: 'AI Governance System' },\r\n        { label: 'Impact', value: template.severity === 'high' ? 'High - Immediate attention required' : 'Low - Routine monitoring' }\r\n      ],\r\n      actions: template.type === 'compliance_alert' ? [\r\n        { label: 'Review Details', event: 'openComplianceReview', data: { eventId: Date.now() + i } },\r\n        { label: 'Contact Agency', event: 'openAgencyContact', data: { agency: template.agency } }\r\n      ] : []\r\n    }\r\n    mockEvents.push(event)\r\n  }\r\n\r\n  return mockEvents.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp))\r\n}\r\n\r\n// Integration hook for opening LiveGovernanceStream\r\nexport const useLiveGovernanceStream = () => {\r\n  const [isStreamOpen, setIsStreamOpen] = useState(false)\r\n  const [streamContext, setStreamContext] = useState(null)\r\n\r\n  useEffect(() => {\r\n    const handleOpenStream = (event) => {\r\n      setStreamContext(event.detail || null)\r\n      setIsStreamOpen(true)\r\n    }\r\n\r\n    window.addEventListener('openGovernanceStream', handleOpenStream)\r\n    return () => window.removeEventListener('openGovernanceStream', handleOpenStream)\r\n  }, [])\r\n\r\n  const openStream = (context = null) => {\r\n    setStreamContext(context)\r\n    setIsStreamOpen(true)\r\n  }\r\n\r\n  return {\r\n    isStreamOpen,\r\n    setIsStreamOpen,\r\n    streamContext,\r\n    openStream\r\n  }\r\n}\r\n\r\nexport default LiveGovernanceStream"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}